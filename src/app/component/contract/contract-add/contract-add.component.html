<!-- contract-add.component.html -->
<app-navbar></app-navbar>
<div class="container mt-4">
  <h2>Add New Contract</h2>

  <!-- Contract Details -->
  <div class="form-group">
    <label for="startDate">Start Date:</label>
    <input type="date" id="startDate" name="startDate" class="form-control" [(ngModel)]="newContract.startDate"
      required>
  </div>


  <div class="form-group">
    <label for="markupRate">Markup Rate:</label>
    <input type="number" id="markupRate" name="markupRate" class="form-control" [(ngModel)]="newContract.markUpRate"
      required>
  </div>

  <div class="form-group">
    <label for="endDate">End Date:</label>
    <input type="date" id="endDate" name="endDate" class="form-control" [(ngModel)]="newContract.endDate" required>
  </div>

  <div class="form-group">
    <label for="hotel">Select Hotel:</label>
    <select id="hotel" name="hotel" class="form-control" [(ngModel)]="newContract.hotel" required>
      <option *ngFor="let hotel of availableHotels" [ngValue]="hotel">{{ hotel.hotelName }}</option>
    </select>
  </div>

  <!-- Contracted Room Type Details -->
  <div *ngFor="let ContractedRoomType of newContract.contractedRoomTypeList; let i = index">
    <h3>Contracted Room Type {{ i + 1 }}</h3>
    <div class="form-group">
      <label for="price">Price:</label>
      <input type="number" id="price" class="form-control" [(ngModel)]="ContractedRoomType.price">
    </div>

    <div class="form-group">
      <label for="noOfRooms">No of Rooms:</label>
      <input type="number" id="noOfRooms" class="form-control" [(ngModel)]="ContractedRoomType.noOfRooms">
    </div>

    <div class="form-group">
      <label for="maxAdults">Max Adults:</label>
      <input type="number" id="maxAdults" class="form-control" [(ngModel)]="ContractedRoomType.maxAdults">
    </div>

    <div class="form-group">
      <label for="roomType">Select Room Type:</label>
      <!-- <select id="roomType"  class="form-control" [(ngModel)]="roomType.roomType" >
          <option *ngFor="let type of filterRoomTypesByHotel()" [ngValue]="type">{{ type.roomTypeName }}</option>
        </select> -->
      <!-- Inside the <select> element -->
       
        <select id="roomType" class="form-control" [(ngModel)]="ContractedRoomType.roomType">
          <option value="">Please Select</option> <!-- Add "Please Select" option -->
          <option *ngFor="let type of filterRoomTypesByHotel(i)" [ngValue]="type">{{ type.roomTypeName }}</option>
        </select>
      <!-- <select id="roomType" class="form-control" [(ngModel)]="roomType.roomType">
       (change)="addSelectedRoomType(roomType)"> 
        <option *ngFor="let type of availableRoomTypes" [ngValue]="type">{{ type.roomTypeName }}</option>
      </select> -->

    </div>
  </div>

  <!-- Add Another Room Type Button -->
  <button type="button" class="btn btn-primary" (click)="addAnotherRoomType()">Add Another Room Type</button>

  <!-- Submit Button -->
  <div class="text-center mt-3">
    <button type="submit" class="btn btn-primary" (click)="addContract()">Add Contract</button>
  </div>

</div>